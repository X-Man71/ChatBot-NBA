<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>NBA 선수 명단</title>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 40px;
    background-color: #0d0d0d;
    color: #fff;
    background-image: linear-gradient(to bottom right, #111, #222);
    background-attachment: fixed;
}

h1 {
    text-align: center;
    color: #ff7b00;
    text-shadow: 3px 3px 8px #000;
    font-size: 2.5em;
    margin-bottom: 40px;
    letter-spacing: 1px;
}

/* 검색창 */
form {
    text-align: center;
    margin-bottom: 40px;
}
input[type="text"] {
    width: 300px;
    padding: 10px 15px;
    border-radius: 25px;
    border: 1px solid #ffa500;
    outline: none;
    transition: 0.3s;
    font-size: 1em;
}
input[type="text"]:focus {
    box-shadow: 0 0 10px #ffa500;
}
button[type="submit"] {
    padding: 10px 20px;
    border: none;
    background: linear-gradient(90deg, #ff7b00, #ff4500);
    color: white;
    border-radius: 25px;
    cursor: pointer;
    margin-left: 10px;
    font-weight: bold;
    transition: 0.3s;
}
button[type="submit"]:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px #ff7b00;
}

/* 테이블 */
.table {
    display: table;
    border-collapse: collapse;
    width: 100%;
    background-color: rgba(0,0,0,0.85);
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.8);
}
.table-row {
    display: table-row;
    transition: 0.25s;
}
.table-row:hover {
    background-color: rgba(255,165,0,0.15);
    transform: scale(1.01);
}
.table-cell {
    display: table-cell;
    padding: 16px 18px;
    border-bottom: 1px solid #ffa500;
    text-align: center;
    vertical-align: middle;
    font-size: 1.05em;
    color: #f1f1f1;
}
.table-header {
    background: linear-gradient(90deg, #d35400, #ff7b00);
    font-weight: bold;
    color: #fff;
    text-shadow: 1px 1px 3px #000;
}
.table a {
    text-decoration: none;
    color: inherit;
}

/* 상태 */
.active {
    color: #00e676;
    font-weight: bold;
}
.retired {
    color: #aaa;
    font-style: italic;
}

/* 페이지네이션 */
.pagination {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 30px;
    flex-wrap: wrap;
}
.pagination button {
    padding: 8px 14px;
    border: 1px solid #ffa500;
    background-color: #111;
    color: #ffa500;
    border-radius: 4px;
    cursor: pointer;
    transition: 0.25s;
}
.pagination button:hover {
    background-color: #ffa500;
    color: black;
}
.pagination .active {
    background-color: #ff7b00;
    color: white;
    border-color: #ff7b00;
}

/* 푸터 */
.footer {
    margin-top: 40px;
    text-align: center;
    color: #ffa500;
    font-size: 0.9em;
    opacity: 0.8;
}
</style>
<body>
    <h1>🏀NBA 선수 명단🏀</h1>
    <a href="/">메인 페이지로 돌아가기</a>
    <form method="post" style="text-align: center; margin-bottom: 30px;">
    <input type="text" name= "keyword" placeholder="선수 이름을 검색하세요" >
    <button type="submit" style="padding: 10px 20px; border: none; background-color: #d35400; color: white; border-radius: 5px; cursor: pointer;">
        검색
    </button>
</form>

    
    <div class=table>
        <thead>
            <tr>
                <th>이름</th>
                <th>아이디</th>
                <th>활성 상태</th>
            </tr>
        </thead>
        {%if player_lst %}
            {% for player in player_lst %}
                <a class="table-row" href="https://www.nba.com/player/{{ player['id'] }}">
                    <div class="table-cell">{{ player['full_name'] }}</div>
                    <div class="table-cell">{{ player['id'] }}</div>
                    <div class="table-cell">>{{ '활동 중' if player['is_active'] else '은퇴' }}</div>
                </a>
            {% endfor %}
        {%endif%}
        {%if info %}
            <a class="table-row" href="https://www.nba.com/player/{{ info['id'] }}">
                <div class="table-cell">{{ info['full_name'] }}</div>
                <div class="table-cell">{{ info['id'] }}</div>
                <div class="table-cell">{{ '활동 중' if info['is_active'] else '은퇴' }}</div>
            </a>
        {%endif%}
    </table>
    


<div class="pagination">
    {% set start_page = ((current_page - 1) // 10) * 10 + 1 %}
    {% set end_page = [start_page + 9, max_page]|min %}

    {# 이전 페이지 블록 버튼 (선택) #}
    {% if start_page > 1 %}
        <form method="get">
            <input type="hidden" name="page" value="{{ start_page - 1 }}">
            <button>&laquo;</button>
        </form>
    {% endif %}

    {# 페이지 버튼 10개까지 출력 #}
    {% for i in range(start_page, end_page + 1) %}
        <form method="get">
            <input type="hidden" name="page" value="{{ i }}">
            <button class="{{ 'active' if i == current_page else '' }}">{{ i }}</button>
        </form>
    {% endfor %}

    {# 다음 페이지 블록 버튼 (선택) #}
    {% if end_page < max_page %}
        <form method="get">
            <input type="hidden" name="page" value="{{ end_page + 1 }}">
            <button>&raquo;</button>
        </form>
    {% endif %}
</div>
</body>
</html>