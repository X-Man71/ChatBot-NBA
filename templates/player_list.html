<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>NBA 선수 명단</title>
        <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 40px;
            background-color: #b98930;
            color: #fff;
            background-image: url('https://previews.123rf.com/images/grgroup/grgroup1404/grgroup140400795/27195081-basketball-court-over-wooden-background-vector-illustration.jpg'); /* 농구코트 느낌 배경 */
            background-size: cover;
            background-attachment: fixed;
        }

        h1 {
            text-align: center;
            color: #ffa500; /* 농구공 색 */
            text-shadow: 2px 2px 5px black;
            margin-bottom: 40px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            background-color: rgb(0, 0, 0);
            border: 2px solid #ffa500;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.8);
        }

        th, td {
            text-align: center;
            padding: 14px 16px;
            border-bottom: 1px solid #ffa500;
        }

        th {
            background-color: #d35400;
            color: white;
            font-size: 1.1em;
        }

        tr:hover {
            background-color: rgba(255, 165, 0, 0.2);
        }

        .active {
            color: #00e600;
            font-weight: bold;
        }

        .retired {
            color: #bbbbbb;
            font-style: italic;
        }

        .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 0.9em;
            color: #ffa500;
            text-shadow: 1px 1px 2px black;
            }
    .pagination {
        display: flex;
        gap: 5px;
        margin-top: 20px;
        flex-wrap: wrap;
    }
    .pagination button {
        padding: 8px 14px;
        border: 1px solid #ccc;
        background-color: white;
        color: #333;
        cursor: pointer;
        border-radius: 4px;
        transition: 0.2s ease;
    }
    .pagination button:hover {
        background-color: #f0f0f0;
    }
    .pagination .active {
        background-color: #007bff;
        color: white;
        border-color: #007bff;
    }

    </style>
<body>
    <h1>🏀NBA 선수 명단🏀</h1>

    <form method="post" style="text-align: center; margin-bottom: 30px;">
    <input type="text" name= "keyword" placeholder="선수 이름을 검색하세요" >
    <button type="submit" style="padding: 10px 20px; border: none; background-color: #d35400; color: white; border-radius: 5px; cursor: pointer;">
        검색
    </button>
</form>

    
    <table>
        <thead>
            <tr>
                <th>이름</th>
                <th>아이디</th>
                <th>활성 상태</th>
            </tr>
        </thead>
        {%if player_lst %}
        <tbody>
            {% for player in player_lst %}
            <tr>
                <td>{{ player['full_name'] }}</td>
                <td>{{ player['id'] }}</td>
                <td>{{ '활동 중' if player['is_active'] else '은퇴' }}</td>
            </tr>
            {% endfor %}
        </tbody>
        {%endif%}
        {%if info %}
        <tbody>
            <tr>
                <td>{{ info['full_name'] }}</td>
                <td>{{ info['id'] }}</td>
                <td>{{ '활동 중' if info['is_active'] else '은퇴' }}</td>
            </tr>
        </tbody>
        {%endif%}
    </table>


<div class="pagination">
    {% set start_page = ((current_page - 1) // 10) * 10 + 1 %}
    {% set end_page = [start_page + 9, max_page]|min %}

    {# 이전 페이지 블록 버튼 (선택) #}
    {% if start_page > 1 %}
        <form method="get">
            <input type="hidden" name="page" value="{{ start_page - 1 }}">
            <button>&laquo;</button>
        </form>
    {% endif %}

    {# 페이지 버튼 10개까지 출력 #}
    {% for i in range(start_page, end_page + 1) %}
        <form method="get">
            <input type="hidden" name="page" value="{{ i }}">
            <button class="{{ 'active' if i == current_page else '' }}">{{ i }}</button>
        </form>
    {% endfor %}

    {# 다음 페이지 블록 버튼 (선택) #}
    {% if end_page < max_page %}
        <form method="get">
            <input type="hidden" name="page" value="{{ end_page + 1 }}">
            <button>&raquo;</button>
        </form>
    {% endif %}
</div>
</body>
</html>